
# Система учета студентов

## Описание

Система учета студентов позволяет администраторам и преподавателям управлять информацией о студентах, курсах и оценках в учебном заведении. Приложение предоставляет возможности для добавления, редактирования и удаления информации о студентах и курсах, а также управления доступом пользователей.

## Содержание

1. [Предварительные требования](#предварительные-требования)
2. [Установка фронтенда](#установка-фронтенда)
3. [Установка бэкенда](#установка-бэкенда)
4. [Настройка базы данных](#настройка-базы-данных)
5. [Настройка электронной почты](#настройка-электронной-почты)
6. [Начальные данные администратора](#начальные-данные-администратора)
7. [Запуск приложения](#запуск-приложения)
8. [Рекомендации по безопасности данных](#рекомендации-по-безопасности-данных)

## Предварительные требования

- Node.js 14 или выше (для фронтенда)
- Java 17 или выше (для бэкенда)
- Maven 3.6 или выше (для бэкенда)
- Система управления базами данных (PostgreSQL)

## Установка фронтенда

1. Перейдите в директорию `frontend`:
   ```bash
   cd frontend
   ```

2. Установите необходимые зависимости:
   ```bash
   npm install
   ```
   
3. Для изменения порта, используйте файл `vite.config.js`.

## Установка бэкенда

1. Перейдите в корневую директорию проекта.

2. Установите необходимые зависимости:
   ```bash
   mvn clean install
   ```
   (Не забудьте про установку самого mvn, если его еще нет)

3. Настройте параметры подключения к базе данных в файле `src/main/resources/application.properties`.

## Настройка базы данных

1. Создайте новую схему базы данных для приложения.

2. Обновите файл `src/main/resources/application.properties` следующими параметрами подключения:
   ```properties
   spring.datasource.url=jdbc:postgresql://localhost:5432/your_database_name
   spring.datasource.username=your_username
   spring.datasource.password=your_password
   ```
3. Добавьте миграции базы данных (если нужно, такие как Flyway).

## Настройка электронной почты

1. Добавьте настройки для отправки сообщений на электронную почту в файле `src/main/resources/application.properties`:
   ```properties
   spring.mail.host=smtp.gmail.com
   spring.mail.port=587
   spring.mail.username=studentmexample@gmail.com
   spring.mail.password=rppo nvqr kwbd jmqd
   spring.mail.properties.mail.smtp.auth=true
   spring.mail.properties.mail.smtp.starttls.enable=true
   ```
   **Примечание:** Данные НЕ были заранее перенесены в переменные окружения для упрощения тестирования. Оставляю почту для тестов и пароль приложения: ( studentmexample@gmail.com | rppo nvqr kwbd jmqd ). Если понадобится, замените на ваши учетные данные Gmail. 
   
   **Важно:** Включите OAuth2 для аккаунта и получите код приложения (используется вместо пароля).

## Начальные данные администратора

По умолчанию при запуске приложения создается администратор с предопределенными учетными данными.
**Рекомендуется изменить данные администратора на свои**

**Начальные данные администратора:**
- **Логин:** `admin`
- **Пароль:** `root`

Для изменения учетных данных следуйте шагам ниже:
   1. Войдите в систему под начальными данными.
   2. Измените учетные данные в личном кабинете.

## Запуск приложения

1. Запустите бэкенд-приложение:
   ```bash
   mvn spring-boot:run
   ```

2. Запустите фронтенд-приложение (в отдельном терминале):
   ```bash
   npm start
   ```

3. Доступ к приложению через веб-браузер: http://localhost:3000 (или настроенный порт).

## Рекомендации по безопасности данных

Для обеспечения безопасности конфиденциальной информации, такой как учетные данные базы данных и параметры электронной почты, рекомендуется хранить их в переменных окружения. Это предотвращает возможность их случайного попадания в систему контроля версий и минимизирует риск доступа посторонних лиц.

### Шаги для переноса данных в переменные окружения:

1. **Создайте файл `.env` в корневой директории проекта:**
   ```plaintext
   SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/your_database_name
   SPRING_DATASOURCE_USERNAME=your_username
   SPRING_DATASOURCE_PASSWORD=your_password
   SPRING_MAIL_HOST=smtp.gmail.com
   SPRING_MAIL_PORT=587
   SPRING_MAIL_USERNAME=studentmexample@gmail.com
   SPRING_MAIL_PASSWORD=rppo nvqr kwbd jmqd
   SECRET_KEY=your_secret_key_here
   LIFETIME=7200000
   ```

2. **Настройте Spring Boot для чтения переменных окружения**
В `application.properties` укажите ссылки на переменные окружения:
   ```properties
   spring.datasource.url=${SPRING_DATASOURCE_URL}
   spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
   spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
   spring.mail.host=${SPRING_MAIL_HOST}
   spring.mail.port=${SPRING_MAIL_PORT}
   spring.mail.username=${SPRING_MAIL_USERNAME}
   spring.mail.password=${SPRING_MAIL_PASSWORD}
   # Secret Key и Lifetime
   secret.key=${SECRET_KEY}
   lifetime=${LIFETIME}
   ```

3. **Добавьте `.env` в `.gitignore`**, чтобы предотвратить случайное попадание файла с конфиденциальными данными в систему контроля версий.

## Отправка Email для новых пользователей

В приложении реализован сервис, который при регистрации нового пользователя отправляет ему на электронную почту случайный пароль для первого входа. Пользователь должен сменить этот пароль после входа в систему. 

- **Рекомендуется** настраивать услугу для отправки писем, обеспечив безопасность хранения учетных данных электронной почты в переменных окружения.
